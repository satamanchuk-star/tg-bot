# tg-bot

## Возможности

- Модерация: мат/оскорбления, ссылки (кроме `t.me`), антифлуд, страйки.
- Анкеты: «шлагбаум» и «соседи».
- Игры: 21 (blackjack) с монетами и рейтингом.
- Ежедневная сводка и еженедельный рейтинг.
- Админ-команды: мут/анмут, бан/анбан, страйк, выдача монет, обновление словаря.

## Архитектура (минимальная)

- `app/main.py` — сборка бота, запуск, планировщик задач.
- `app/handlers/*` — отдельные хендлеры (модерация, игры, анкеты, помощь).
- `app/services/*` — бизнес-логика (страйки, игры, статистика).
- `app/models.py` — модели БД.
- `app/utils/*` — утилиты (текст, админы, время).

## Переменные окружения

Все параметры берутся из `.env` (пример в `.env.example`).

## Запуск (Ubuntu 24.04)

```bash
python3.12 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
python -m app.main
```

## Проверки качества (рекомендуется)

```bash
python -m pytest
python -m ruff check .
python -m ruff format --check .
```
